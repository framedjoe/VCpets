<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Vpets</title>
  
  <!-- This forces the same Comic Sans look on EVERY phone -->
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Comic+Neue:wght@400;700&display=swap');
    
    * { box-sizing: border-box; }
    body {
      margin: 0;
      background: #000;
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      font-family: 'Comic Neue', 'Comic Sans MS', cursive !important;
    }
    button, h1, h2, #name, #stats p, .btn {
      font-family: 'Comic Neue', 'Comic Sans MS', cursive !important;
    }
    #device {
      width: 420px;
      height: 780px;
      background: var(--bg, linear-gradient(#a8e6cf,#b8d8f0,#e0f2fe));
      border: 18px solid #111;
      border-radius: 60px;
      box-shadow: 0 30px 80px rgba(0,0,0,0.9);
      overflow: hidden;
      padding: 25px 20px;
      transition: background 1s;
      position: relative;
    }
    h1 { margin: 15px 0 10px; font-size: 36px; }
    #name { font-size: 26px; margin: 10px 0; }
    #pet { font-size: 100px; margin: 20px 0; }
    @keyframes wobble { 0%,100% { transform: rotate(-3deg); } 50% { transform: rotate(3deg); } }
    @keyframes walk { 0%,100% { transform: translateX(-6px); } 50% { transform: translateX(6px); } }
    #pet.walking { animation: walk 1.4s infinite; }
    #pet { animation: wobble 2s infinite; }

    progress { width: 100%; max-width: 340px; height: 28px; }
    #stats p { margin: 10px 0; font-size: 18px; }

    .btn {
      padding: 11px 14px;
      margin: 5px 3px;
      font-size: 16px;
      min-width: 100px;
    }
    #buttons {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 10px;
      margin-top: 10px;
    }

    #poop { font-size: 45px; margin: 10px 0; }
    #alert { font-size: 19px; margin: 10px; }

    /* Clean egg selector â€” no question mark, no cut-offs */
    #starter {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      text-align: center;
      width: 100%;
    }
    #starter h2 {
      margin: 0 0 35px 0;
      font-size: 32px;
      color: #333;
    }
    .egg-grid {
      display: flex;
      justify-content: center;
      gap: 30px;
      flex-wrap: wrap;
    }
    .egg-btn {
      font-size: 52px;
      padding: 16px;
      border-radius: 25px;
      background: rgba(255,255,255,0.75);
      cursor: pointer;
      transition: .3s;
      box-shadow: 0 6px 15px rgba(0,0,0,0.2);
    }
    .egg-btn:hover {
      transform: scale(1.3);
      box-shadow: 0 12px 25px rgba(0,0,0,0.4);
    }
  </style>
</head>
<body>
  <div id="device">
    <h1>Vpets</h1>
    <div id="name"></div>
    <div id="pet"></div> <!-- No "?" anymore -->
    <div id="poop"></div>
    <div id="alert"></div>

    <div id="stats" style="display:none;">
      <p>Hunger:     <progress value="70" max="100"></progress></p>
      <p>Happiness:  <progress value="50" max="100"></progress></p>
      <p>Energy:     <progress value="90" max="100"></progress></p>
      <p>Discipline: <progress value="50" max="100"></progress></p>
    </div>

    <div id="buttons" style="display:none;">
      <button class="btn" onclick="feed()">Feed</button>
      <button class="btn" onclick="play()">Play</button>
      <button class="btn" onclick="sleep()">Sleep</button>
      <button class="btn" onclick="praise()">Praise</button>
      <button class="btn" onclick="scold()" style="background:#ff9f9f;">Scold</button>
      <button class="btn" id="cleanBtn" onclick="clean()" style="background:#8bc34a;display:none;">Clean</button>
      <button class="btn" onclick="resetPet()" style="background:#ff6b6b;grid-column:1/3;">New Pet</button>
    </div>

    <!-- Clean & small egg selector -->
    <div id="starter">
      <h2>Select Your Pet</h2>
      <div class="egg-grid">
        <div class="egg-btn" onclick="choosePet('bear')">Blue Egg</div>
        <div class="egg-btn" onclick="choosePet('harpy')">Green Egg</div>
        <div class="egg-btn" onclick="choosePet('quetzal')">Red Egg</div>
      </div>
    </div>
  </div>

  <script>
    const creatures = {
      bear: { bg: "linear-gradient(#a8e6cf,#b8d8f0,#e0f2fe)", stages: {egg:{emoji:'Egg',name:'Mystery Egg'}, baby:{emoji:'Bear',name:'Vetlemon'}, mid:{emoji:'Polar BearSword',name:'Berserkermon'}, adult:{emoji:'CrownPolar Bear',name:'Valemon'}}, evo:{mid:{age:80,hap:65,dis:60}, adult:{age:160,ene:75,hap:80}}},
      harpy: { bg: "linear-gradient(to bottom,#87CEEB,#4682B4,#87CEEB)", stages: {egg:{emoji:'Egg',name:'Wind Egg'}, baby:{emoji:'Chick',name:'Chirpimon'}, mid:{emoji:'EagleSword',name:'Harpymon'}, adult:{emoji:'Woman Eagle',name:'Aellomon'}}, evo:{mid:{age:80,hap:70}, adult:{age:160,hap:85}}},
      quetzal: { bg: "linear-gradient(to bottom,#FFB6C1,#FF69B4,#DC143C)", stages: {egg:{emoji:'Egg',name:'Feathered Egg'}, baby:{emoji:'Snake Feather',name:'Plumon'}, mid:{emoji:'Dragon Coil',name:'Coilmon'}, adult:{emoji:'Crown Feathered Serpent',name:'Quetzalmon'}}, evo:{mid:{age:80,ene:75,dis:65}, adult:{age:160,hap:80,ene:80,dis:80}}}
    };

    let petType=null,hunger=70,happiness=50,energy=90,discipline=50,age=0,stage='egg',isDead=false,isSick=false,poopCount=0;
    const device=document.getElementById('device'),pet=document.getElementById('pet'),nameEl=document.getElementById('name'),
          bars=document.querySelectorAll('progress'),poopDiv=document.getElementById('poop'),cleanBtn=document.getElementById('cleanBtn'),
          alertDiv=document.getElementById('alert'),starter=document.getElementById('starter'),stats=document.getElementById('stats'),
          buttons=document.getElementById('buttons');

    function save(){localStorage.setItem('vpets',JSON.stringify({petType,hunger,happiness,energy,discipline,age,stage,isDead,isSick,poopCount}));}
    function load(){const s=JSON.parse(localStorage.getItem('vpets'));if(s&&s.petType&&creatures[s.petType]){Object.assign(window,s);device.style.background=creatures[petType].bg;starter.style.display='none';stats.style.display='block';buttons.style.display='block';}else showStarter();update();}
    function showStarter(){starter.style.display='block';stats.style.display='none';buttons.style.display='none';nameEl.textContent="Select Your Pet";pet.textContent="";device.style.background="linear-gradient(#a8e6cf,#b8d8f0,#e0f2fe)";}
    function choosePet(t){petType=t;device.style.background=creatures[t].bg;hunger=70;happiness=50;energy=90;discipline=50;age=0;stage='egg';isDead=false;isSick=false;poopCount=0;starter.style.display='none';stats.style.display='block';buttons.style.display='block';save();update();}
    function resetPet(){if(confirm('Start a brand new adventure?')){localStorage.removeItem('vpets');showStarter();}}

    function update(){
      if(!petType)return;
      if(isDead){pet.textContent='Skull';nameEl.textContent='RIP - Feed to revive!';}
      else if(isSick)pet.textContent='Green Face';
      else pet.textContent=creatures[petType].stages[stage].emoji;
      nameEl.textContent=`${creatures[petType].stages[stage].name} - Age: ${Math.floor(age/10)} days`;
      bars[0].value=hunger;bars[1].value=happiness;bars[2].value=energy;bars[3].value=discipline;
      poopDiv.style.display=poopCount>0?'block':'none';poopDiv.textContent='Poop'.repeat(Math.min(poopCount,5));
      cleanBtn.style.display=poopCount>0?'inline-block':'none';save();
    }
    function evolveCheck(){const old=stage;const e=creatures[petType].evo;if(stage==='egg'&&age>25)stage='baby';else if(stage==='baby'&&age>e.mid.age&&(!e.mid.hap||happiness>e.mid.hap)&&(!e.mid.dis||discipline>e.mid.dis)&&(!e.mid.ene||energy>e.mid.ene))stage='mid';else if(stage==='mid'&&age>e.adult.age&&(!e.adult.hap||happiness>e.adult.hap)&&(!e.adult.dis||discipline>e.adult.dis)&&(!e.adult.ene||energy>e.adult.ene))stage='adult';if(stage!==old&&old!=='egg')evolveCelebration();}
    function evolveCelebration(){device.style.background='white';pet.textContent='Sparkles';pet.style.fontSize='180px';pet.style.animation='none';setTimeout(()=>{device.style.background=creatures[petType].bg;pet.style.fontSize='100px';pet.style.animation='wobble 2s infinite';nameEl.textContent=stage==='adult'?`${creatures[petType].stages.adult.name} AWAKENS!`:`${creatures[petType].stages.mid.name} AWAKENS!`;setTimeout(update,4000);},2000);}

    function feed(){if(isDead){isDead=false;isSick=false;}hunger=Math.min(100,hunger+30);happiness=Math.min(100,happiness+10);age+=0.5;if(Math.random()<0.4)poopCount++;pet.textContent='Face Savoring Food';setTimeout(update,800);evolveCheck();}
    function play(){if(isDead)return;happiness=Math.min(100,happiness+30);hunger=Math.max(0,hunger-12);energy=Math.max(0,energy-18);age+=1;pet.textContent='Party PopperSnowflake';pet.classList.add('walking');setTimeout(()=>{pet.classList.remove('walking');update();},1200);evolveCheck();}
    function sleep(){if(isDead)return;energy=100;age+=0.2;pet.textContent='Sleeping Face';setTimeout(update,1800);evolveCheck();}
    function praise(){if(isDead)return;happiness=Math.min(100,happiness+15);discipline=Math.min(100,discipline+10);age+=0.1;pet.textContent='Smiling Face with Hearts';setTimeout(update,1000);evolveCheck();}
    function scold(){if(isDead)return;happiness=Math.max(0,happiness-10);discipline=Math.min(100,discipline+20);age+=0.1;pet.textContent='Pouting Face';setTimeout(update,1000);evolveCheck();}
    function clean(){poopCount=0;happiness=Math.min(100,happiness+20);isSick=false;pet.textContent='Smiling Face with Halo';setTimeout(update,1000);}

    setInterval(()=>{if(!isDead&&Math.random()<0.15)poopCount++;if(!isDead&&happiness<30&&Math.random()<0.3){alertDiv.textContent='Play with me!';alertDiv.style.display='block';setTimeout(()=>alertDiv.style.display='none',4000);}if(!isDead&&poopCount>3){isSick=true;happiness=Math.max(0,happiness-10);}update();},15000);
    setInterval(()=>{if(!isDead){hunger=Math.max(0,hunger-1.5);happiness=Math.max(0,happiness-0.8);energy=Math.max(0,energy-1);age+=0.1;if(hunger<5||happiness<5||energy<5)isDead=true;evolveCheck();update();}},3000);

    load();
  </script>
</body>
</html>
